<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>DatabaseLoader.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">be-traveltrove</a> &gt; <a href="index.source.html" class="el_package">com.traveltrove.betraveltrove.utils</a> &gt; <span class="el_source">DatabaseLoader.java</span></div><h1>DatabaseLoader.java</h1><pre class="source lang-java linenums">package com.traveltrove.betraveltrove.utils;

import com.traveltrove.betraveltrove.dataaccess.city.City;
import com.traveltrove.betraveltrove.dataaccess.city.CityRepository;
import com.traveltrove.betraveltrove.dataaccess.country.Country;
import com.traveltrove.betraveltrove.dataaccess.country.CountryRepository;
import com.traveltrove.betraveltrove.dataaccess.events.Event;
import com.traveltrove.betraveltrove.dataaccess.events.EventRepository;
import com.traveltrove.betraveltrove.dataaccess.tour.Tour;
import com.traveltrove.betraveltrove.dataaccess.tour.TourEvent;
import com.traveltrove.betraveltrove.dataaccess.tour.TourEventRepository;
import com.traveltrove.betraveltrove.dataaccess.tour.TourRepository;
import lombok.RequiredArgsConstructor;
import lombok.extern.slf4j.Slf4j;
import org.springframework.stereotype.Service;
import reactor.core.publisher.Flux;

import jakarta.annotation.PostConstruct;
import java.util.List;

@Service
<span class="nc" id="L22">@RequiredArgsConstructor</span>
<span class="nc" id="L23">@Slf4j</span>
public class DatabaseLoader {

    // Countries :)
    private final CountryRepository countryRepository;
    private final CityRepository cityRepository;

    @PostConstruct
    public void loadCountriesAndCities() {
<span class="nc" id="L32">        List&lt;Country&gt; sampleCountries = List.of(</span>
                new Country(null, &quot;ad633b50-83d4-41f3-866a-26452bdd6f33&quot;, &quot;United States&quot;, &quot;usa.png&quot;),
                new Country(null, &quot;b1db23af-4f2d-4138-b623-e906f5287e90&quot;, &quot;Canada&quot;, &quot;canada.png&quot;),
                new Country(null, &quot;118495e2-e1ce-4987-bb09-a95f93515bda&quot;, &quot;France&quot;, &quot;france.png&quot;),
                new Country(null, &quot;cf09374e-6d51-47ec-91e1-2b69a788457f&quot;, &quot;Germany&quot;, &quot;germany.png&quot;),
                new Country(null, &quot;dde33653-fc58-457c-9d33-a322a2a82835&quot;, &quot;Italy&quot;, &quot;italy.png&quot;),
                new Country(null, &quot;f05f8f2c-f86d-4cf5-8a9b-19e70f1b96d5&quot;, &quot;Japan&quot;, &quot;japan.png&quot;),
                new Country(null, &quot;b511c7ee-c0f3-4902-9bfa-d50f59ef2b3c&quot;, &quot;Brazil&quot;, &quot;brazil.png&quot;),
                new Country(null, &quot;d5d4e5e2-f960-4cf4-beed-c38104e5d5b4&quot;, &quot;Australia&quot;, &quot;australia.png&quot;),
                new Country(null, &quot;3cd2ad86-26cc-42ad-8b20-8b0b6e6d2a2e&quot;, &quot;India&quot;, &quot;india.png&quot;),
                new Country(null, &quot;877ec1c0-ffab-449e-a2ec-08f95db58f55&quot;, &quot;China&quot;, &quot;china.png&quot;)
        );
<span class="nc" id="L44">        List&lt;City&gt; sampleCities = List.of(</span>
<span class="nc" id="L45">                new City(null, &quot;b713c09a-9c3e-4b30-872a-4d89089badd0&quot;, &quot;New York&quot;, sampleCountries.get(0).getCountryId()),</span>
<span class="nc" id="L46">                new City(null, &quot;11a85d86-3fc8-4504-b1e9-25fd87eba3cf&quot;, &quot;Toronto&quot;, sampleCountries.get(1).getCountryId()),</span>
<span class="nc" id="L47">                new City(null, &quot;f5ad630f-830d-47a8-a26c-76b87163a7e4&quot;, &quot;Paris&quot;, sampleCountries.get(2).getCountryId()),</span>
<span class="nc" id="L48">                new City(null, &quot;000f3f3a-8ee2-4690-be4d-a5bd38a5f06f&quot;, &quot;Berlin&quot;, sampleCountries.get(3).getCountryId()),</span>
<span class="nc" id="L49">                new City(null, &quot;7f15fafc-85f4-4ba5-822b-27b7ddce6c37&quot;, &quot;Rome&quot;, sampleCountries.get(4).getCountryId()),</span>
<span class="nc" id="L50">                new City(null, &quot;92537e75-3fc2-42af-b105-b6150395acbb&quot;, &quot;Tokyo&quot;, sampleCountries.get(5).getCountryId()),</span>
<span class="nc" id="L51">                new City(null, &quot;affc7cc1-b3d8-4146-bc39-6e9ff1e66704&quot;, &quot;Rio de Janeiro&quot;, sampleCountries.get(6).getCountryId()),</span>
<span class="nc" id="L52">                new City(null, &quot;f978f76c-abfc-4b25-ba32-9e1b085b5ab0&quot;, &quot;Sydney&quot;, sampleCountries.get(7).getCountryId()),</span>
<span class="nc" id="L53">                new City(null, &quot;0361c975-fe28-4817-be51-6864b8a2bf38&quot;, &quot;Mumbai&quot;, sampleCountries.get(8).getCountryId()),</span>
<span class="nc" id="L54">                new City(null, &quot;2fce64d8-dfa6-4abe-9a84-af7aaac1293f&quot;, &quot;Beijing&quot;, sampleCountries.get(9).getCountryId())</span>
        );

<span class="nc" id="L57">        countryRepository.deleteAll()</span>
<span class="nc" id="L58">                .thenMany(Flux.fromIterable(sampleCountries))</span>
<span class="nc" id="L59">                .flatMap(countryRepository::save)</span>
<span class="nc" id="L60">                .doOnNext(country -&gt; log.info(&quot;Preloaded country: {}&quot;, country))</span>
<span class="nc" id="L61">                .subscribe(</span>
<span class="nc" id="L62">                        success -&gt; log.info(&quot;Database preloaded successfully.&quot;),</span>
<span class="nc" id="L63">                        error -&gt; log.error(&quot;Error preloading database: {}&quot;, error.getMessage())</span>
                );

<span class="nc" id="L66">        cityRepository.deleteAll()</span>
<span class="nc" id="L67">                .thenMany(Flux.fromIterable(sampleCities))</span>
<span class="nc" id="L68">                .flatMap(cityRepository::save)</span>
<span class="nc" id="L69">                .doOnNext(city -&gt; log.info(&quot;Preloaded city: {}&quot;, city))</span>
<span class="nc" id="L70">                .subscribe(</span>
<span class="nc" id="L71">                        success -&gt; log.info(&quot;Database preloaded successfully.&quot;),</span>
<span class="nc" id="L72">                        error -&gt; log.error(&quot;Error preloading database: {}&quot;, error.getMessage())</span>
                );
<span class="nc" id="L74">    }</span>

    // Events :)
    private final EventRepository eventRepository;

    @PostConstruct
    public void loadEvents() {
<span class="nc" id="L81">        List&lt;Event&gt; sampleEvents = List.of(</span>
<span class="nc" id="L82">                Event.builder()</span>
<span class="nc" id="L83">                        .id(null)</span>
<span class="nc" id="L84">                        .eventId(&quot;91c940b1-24e8-463f-96ef-f54f7e4aaf1d&quot;)</span>
<span class="nc" id="L85">                        .cityId(&quot;b713c09a-9c3e-4b30-872a-4d89089badd0&quot;) // New York</span>
<span class="nc" id="L86">                        .countryId(&quot;ad633b50-83d4-41f3-866a-26452bdd6f33&quot;) // United States</span>
<span class="nc" id="L87">                        .name(&quot;New York Summer Carnival&quot;)</span>
<span class="nc" id="L88">                        .image(&quot;ny_summer_carnival.png&quot;)</span>
<span class="nc" id="L89">                        .description(&quot;Experience the thrill of summer with live music, street parades, and food festivals across New York City.&quot;)</span>
<span class="nc" id="L90">                        .build(),</span>
<span class="nc" id="L91">                Event.builder()</span>
<span class="nc" id="L92">                        .id(null)</span>
<span class="nc" id="L93">                        .eventId(&quot;87b3b478-031c-49d2-b64e-b54a49578d8c&quot;)</span>
<span class="nc" id="L94">                        .cityId(&quot;11a85d86-3fc8-4504-b1e9-25fd87eba3cf&quot;) // Toronto</span>
<span class="nc" id="L95">                        .countryId(&quot;b1db23af-4f2d-4138-b623-e906f5287e90&quot;) // Canada</span>
<span class="nc" id="L96">                        .name(&quot;Toronto Winter Lights Festival&quot;)</span>
<span class="nc" id="L97">                        .image(&quot;toronto_winter_lights.png&quot;)</span>
<span class="nc" id="L98">                        .description(&quot;Enjoy dazzling light displays and magical winter-themed experiences throughout Toronto’s iconic landmarks.&quot;)</span>
<span class="nc" id="L99">                        .build(),</span>
<span class="nc" id="L100">                Event.builder()</span>
<span class="nc" id="L101">                        .id(null)</span>
<span class="nc" id="L102">                        .eventId(&quot;e48b9f26-fec7-4ce0-8f98-010ee0e6bd6c&quot;)</span>
<span class="nc" id="L103">                        .cityId(&quot;f5ad630f-830d-47a8-a26c-76b87163a7e4&quot;) // Paris</span>
<span class="nc" id="L104">                        .countryId(&quot;118495e2-e1ce-4987-bb09-a95f93515bda&quot;) // France</span>
<span class="nc" id="L105">                        .name(&quot;Paris Fashion Week&quot;)</span>
<span class="nc" id="L106">                        .image(&quot;paris_fashion_week.png&quot;)</span>
<span class="nc" id="L107">                        .description(&quot;Discover the world of high fashion and luxury with runway shows, designer exhibitions, and celebrity sightings.&quot;)</span>
<span class="nc" id="L108">                        .build(),</span>
<span class="nc" id="L109">                Event.builder()</span>
<span class="nc" id="L110">                        .id(null)</span>
<span class="nc" id="L111">                        .eventId(&quot;7a92bd77-c6e4-4f27-9bbe-a5dad2761950&quot;)</span>
<span class="nc" id="L112">                        .cityId(&quot;000f3f3a-8ee2-4690-be4d-a5bd38a5f06f&quot;) // Berlin</span>
<span class="nc" id="L113">                        .countryId(&quot;cf09374e-6d51-47ec-91e1-2b69a788457f&quot;) // Germany</span>
<span class="nc" id="L114">                        .name(&quot;Berlin Tech Conference&quot;)</span>
<span class="nc" id="L115">                        .image(&quot;berlin_tech_conference.png&quot;)</span>
<span class="nc" id="L116">                        .description(&quot;Explore groundbreaking innovations and network with industry leaders at Europe’s largest tech conference.&quot;)</span>
<span class="nc" id="L117">                        .build(),</span>
<span class="nc" id="L118">                Event.builder()</span>
<span class="nc" id="L119">                        .id(null)</span>
<span class="nc" id="L120">                        .eventId(&quot;44475ce1-6358-4d2f-a497-4ca3032c495c&quot;)</span>
<span class="nc" id="L121">                        .cityId(&quot;7f15fafc-85f4-4ba5-822b-27b7ddce6c37&quot;) // Rome</span>
<span class="nc" id="L122">                        .countryId(&quot;dde33653-fc58-457c-9d33-a322a2a82835&quot;) // Italy</span>
<span class="nc" id="L123">                        .name(&quot;Rome Food &amp; Wine Festival&quot;)</span>
<span class="nc" id="L124">                        .image(&quot;rome_food_wine_festival.png&quot;)</span>
<span class="nc" id="L125">                        .description(&quot;Indulge in authentic Italian cuisine, world-class wines, and cultural performances in the heart of Rome.&quot;)</span>
<span class="nc" id="L126">                        .build(),</span>
<span class="nc" id="L127">                Event.builder()</span>
<span class="nc" id="L128">                        .id(null)</span>
<span class="nc" id="L129">                        .eventId(&quot;3ea4a674-3463-4fa2-a3cf-d882485963b6&quot;)</span>
<span class="nc" id="L130">                        .cityId(&quot;92537e75-3fc2-42af-b105-b6150395acbb&quot;) // Tokyo</span>
<span class="nc" id="L131">                        .countryId(&quot;f05f8f2c-f86d-4cf5-8a9b-19e70f1b96d5&quot;) // Japan</span>
<span class="nc" id="L132">                        .name(&quot;Tokyo Cherry Blossom Festival&quot;)</span>
<span class="nc" id="L133">                        .image(&quot;tokyo_cherry_blossom.png&quot;)</span>
<span class="nc" id="L134">                        .description(&quot;Celebrate the arrival of spring with breathtaking cherry blossoms, cultural exhibits, and traditional performances.&quot;)</span>
<span class="nc" id="L135">                        .build(),</span>
<span class="nc" id="L136">                Event.builder()</span>
<span class="nc" id="L137">                        .id(null)</span>
<span class="nc" id="L138">                        .eventId(&quot;528398a9-91a1-4833-bdd1-d88b732b9be6&quot;)</span>
<span class="nc" id="L139">                        .cityId(&quot;affc7cc1-b3d8-4146-bc39-6e9ff1e66704&quot;) // Rio de Janeiro</span>
<span class="nc" id="L140">                        .countryId(&quot;b511c7ee-c0f3-4902-9bfa-d50f59ef2b3c&quot;) // Brazil</span>
<span class="nc" id="L141">                        .name(&quot;Rio Carnival&quot;)</span>
<span class="nc" id="L142">                        .image(&quot;rio_carnival.png&quot;)</span>
<span class="nc" id="L143">                        .description(&quot;Join the world's biggest street party with samba parades, dazzling costumes, and endless celebrations in Rio.&quot;)</span>
<span class="nc" id="L144">                        .build(),</span>
<span class="nc" id="L145">                Event.builder()</span>
<span class="nc" id="L146">                        .id(null)</span>
<span class="nc" id="L147">                        .eventId(&quot;72927c9c-750f-4b37-9799-16d3b7a59725&quot;)</span>
<span class="nc" id="L148">                        .cityId(&quot;f978f76c-abfc-4b25-ba32-9e1b085b5ab0&quot;) // Sydney</span>
<span class="nc" id="L149">                        .countryId(&quot;d5d4e5e2-f960-4cf4-beed-c38104e5d5b4&quot;) // Australia</span>
<span class="nc" id="L150">                        .name(&quot;Sydney New Year’s Eve Fireworks&quot;)</span>
<span class="nc" id="L151">                        .image(&quot;sydney_fireworks.png&quot;)</span>
<span class="nc" id="L152">                        .description(&quot;Ring in the new year with one of the world's most spectacular fireworks displays over Sydney Harbour.&quot;)</span>
<span class="nc" id="L153">                        .build(),</span>
<span class="nc" id="L154">                Event.builder()</span>
<span class="nc" id="L155">                        .id(null)</span>
<span class="nc" id="L156">                        .eventId(&quot;82c07322-37da-4635-bcae-3ae241036cf8&quot;)</span>
<span class="nc" id="L157">                        .cityId(&quot;0361c975-fe28-4817-be51-6864b8a2bf38&quot;) // Mumbai</span>
<span class="nc" id="L158">                        .countryId(&quot;3cd2ad86-26cc-42ad-8b20-8b0b6e6d2a2e&quot;) // India</span>
<span class="nc" id="L159">                        .name(&quot;Mumbai Film Festival&quot;)</span>
<span class="nc" id="L160">                        .image(&quot;mumbai_film_festival.png&quot;)</span>
<span class="nc" id="L161">                        .description(&quot;Celebrate the art of cinema with film screenings, celebrity interviews, and cultural showcases in Mumbai.&quot;)</span>
<span class="nc" id="L162">                        .build(),</span>
<span class="nc" id="L163">                Event.builder()</span>
<span class="nc" id="L164">                        .id(null)</span>
<span class="nc" id="L165">                        .eventId(&quot;4e5bf569-27cb-494b-b7e5-9f9bf0ca66fe&quot;)</span>
<span class="nc" id="L166">                        .cityId(&quot;2fce64d8-dfa6-4abe-9a84-af7aaac1293f&quot;) // Beijing</span>
<span class="nc" id="L167">                        .countryId(&quot;877ec1c0-ffab-449e-a2ec-08f95db58f55&quot;) // China</span>
<span class="nc" id="L168">                        .name(&quot;Beijing Dragon Boat Festival&quot;)</span>
<span class="nc" id="L169">                        .image(&quot;beijing_dragon_boat.png&quot;)</span>
<span class="nc" id="L170">                        .description(&quot;Experience the thrilling dragon boat races and traditional festivities along Beijing’s scenic waterways.&quot;)</span>
<span class="nc" id="L171">                        .build()</span>
        );

<span class="nc" id="L174">        eventRepository.deleteAll()</span>
<span class="nc" id="L175">                .thenMany(Flux.fromIterable(sampleEvents))</span>
<span class="nc" id="L176">                .flatMap(eventRepository::save)</span>
<span class="nc" id="L177">                .doOnNext(event -&gt; log.info(&quot;Preloaded event: {}&quot;, event))</span>
<span class="nc" id="L178">                .subscribe(</span>
<span class="nc" id="L179">                        success -&gt; log.info(&quot;Events preloaded successfully.&quot;),</span>
<span class="nc" id="L180">                        error -&gt; log.error(&quot;Error preloading events: {}&quot;, error.getMessage())</span>
                );
<span class="nc" id="L182">    }</span>

    // Tours
    private final TourRepository tourRepository;

    @PostConstruct
    public void loadTours() {
<span class="nc" id="L189">        List&lt;Tour&gt; sampleTours = List.of(</span>
<span class="nc" id="L190">                Tour.builder()</span>
<span class="nc" id="L191">                        .id(null)</span>
<span class="nc" id="L192">                        .tourId(&quot;7f54a45d-8c1d-432f-a5c8-1f93b89bfe29&quot;)</span>
<span class="nc" id="L193">                        .name(&quot;Grand American Adventure&quot;)</span>
<span class="nc" id="L194">                        .description(&quot;Explore the vast landscapes of the United States, from the Grand Canyon to the streets of New York City.&quot;)</span>
<span class="nc" id="L195">                        .build(),</span>
<span class="nc" id="L196">                Tour.builder()</span>
<span class="nc" id="L197">                        .id(null)</span>
<span class="nc" id="L198">                        .tourId(&quot;90af5e42-b8a7-4b59-939f-8fa2c4e384d1&quot;)</span>
<span class="nc" id="L199">                        .name(&quot;Canadian Rockies Expedition&quot;)</span>
<span class="nc" id="L200">                        .description(&quot;Experience Canada’s majestic Rockies with breathtaking views, wildlife safaris, and serene mountain resorts.&quot;)</span>
<span class="nc" id="L201">                        .build(),</span>
<span class="nc" id="L202">                Tour.builder()</span>
<span class="nc" id="L203">                        .id(null)</span>
<span class="nc" id="L204">                        .tourId(&quot;f1f4ac8e-4e24-4bb3-97d3-e5b7b5b7f912&quot;)</span>
<span class="nc" id="L205">                        .name(&quot;Parisian Art &amp; Culture Tour&quot;)</span>
<span class="nc" id="L206">                        .description(&quot;Discover France’s iconic landmarks, including the Eiffel Tower, the Louvre Museum, and charming Parisian streets.&quot;)</span>
<span class="nc" id="L207">                        .build(),</span>
<span class="nc" id="L208">                Tour.builder()</span>
<span class="nc" id="L209">                        .id(null)</span>
<span class="nc" id="L210">                        .tourId(&quot;83e6f7ba-0567-426a-b43f-456f947c576b&quot;)</span>
<span class="nc" id="L211">                        .name(&quot;German Castle Escape&quot;)</span>
<span class="nc" id="L212">                        .description(&quot;Journey through Germany’s historic castles, scenic villages, and stunning landscapes along the Romantic Road.&quot;)</span>
<span class="nc" id="L213">                        .build(),</span>
<span class="nc" id="L214">                Tour.builder()</span>
<span class="nc" id="L215">                        .id(null)</span>
<span class="nc" id="L216">                        .tourId(&quot;d12a7bf7-dc94-4953-9189-68f6a70f7844&quot;)</span>
<span class="nc" id="L217">                        .name(&quot;Italian Culinary Retreat&quot;)</span>
<span class="nc" id="L218">                        .description(&quot;Savor Italy’s finest cuisine with wine tastings in Tuscany, pasta-making workshops, and cultural explorations in Rome.&quot;)</span>
<span class="nc" id="L219">                        .build(),</span>
<span class="nc" id="L220">                Tour.builder()</span>
<span class="nc" id="L221">                        .id(null)</span>
<span class="nc" id="L222">                        .tourId(&quot;7e14cb83-3e2a-41c6-b26f-09ebd62a5e39&quot;)</span>
<span class="nc" id="L223">                        .name(&quot;Japan Cherry Blossom Tour&quot;)</span>
<span class="nc" id="L224">                        .description(&quot;Witness the stunning beauty of Japan’s cherry blossoms while visiting Kyoto's temples, Mt. Fuji, and Tokyo’s bustling streets.&quot;)</span>
<span class="nc" id="L225">                        .build(),</span>
<span class="nc" id="L226">                Tour.builder()</span>
<span class="nc" id="L227">                        .id(null)</span>
<span class="nc" id="L228">                        .tourId(&quot;42cf8561-6f83-4f2f-becb-e3c72a1bb572&quot;)</span>
<span class="nc" id="L229">                        .name(&quot;Brazilian Amazon Adventure&quot;)</span>
<span class="nc" id="L230">                        .description(&quot;Embark on an unforgettable journey into the Amazon rainforest with guided eco-tours and immersive wildlife experiences.&quot;)</span>
<span class="nc" id="L231">                        .build(),</span>
<span class="nc" id="L232">                Tour.builder()</span>
<span class="nc" id="L233">                        .id(null)</span>
<span class="nc" id="L234">                        .tourId(&quot;f4a9c2ef-8473-4b67-b527-44fcb3a6eec5&quot;)</span>
<span class="nc" id="L235">                        .name(&quot;Australian Outback Expedition&quot;)</span>
<span class="nc" id="L236">                        .description(&quot;Discover Australia’s rugged outback, from the stunning Uluru rock formation to unique wildlife encounters.&quot;)</span>
<span class="nc" id="L237">                        .build(),</span>
<span class="nc" id="L238">                Tour.builder()</span>
<span class="nc" id="L239">                        .id(null)</span>
<span class="nc" id="L240">                        .tourId(&quot;7b82cb14-2ff5-4d8f-b84c-3bfb7b6cda1e&quot;)</span>
<span class="nc" id="L241">                        .name(&quot;Indian Heritage Journey&quot;)</span>
<span class="nc" id="L242">                        .description(&quot;Explore India’s cultural treasures, including the Taj Mahal, Jaipur’s palaces, and spiritual experiences along the Ganges.&quot;)</span>
<span class="nc" id="L243">                        .build(),</span>
<span class="nc" id="L244">                Tour.builder()</span>
<span class="nc" id="L245">                        .id(null)</span>
<span class="nc" id="L246">                        .tourId(&quot;6a237fda-4924-4c73-a6df-73c1e0c37af2&quot;)</span>
<span class="nc" id="L247">                        .name(&quot;Chinese Silk Road Adventure&quot;)</span>
<span class="nc" id="L248">                        .description(&quot;Travel along China’s historic Silk Road, visiting ancient cities, the Great Wall, and vibrant cultural heritage sites.&quot;)</span>
<span class="nc" id="L249">                        .build()</span>
        );

<span class="nc" id="L252">        tourRepository.deleteAll()</span>
<span class="nc" id="L253">                .thenMany(Flux.fromIterable(sampleTours))</span>
<span class="nc" id="L254">                .flatMap(tourRepository::save)</span>
<span class="nc" id="L255">                .doOnNext(tour -&gt; log.info(&quot;Preloaded tour: {}&quot;, tour))</span>
<span class="nc" id="L256">                .subscribe(</span>
<span class="nc" id="L257">                        success -&gt; log.info(&quot;Tours preloaded successfully.&quot;),</span>
<span class="nc" id="L258">                        error -&gt; log.error(&quot;Error preloading tours: {}&quot;, error.getMessage())</span>
                );
<span class="nc" id="L260">    }</span>

    private final TourEventRepository tourEventRepository;

    @PostConstruct
    public void loadTourEvents() {
<span class="nc" id="L266">        List&lt;TourEvent&gt; sampleTourEvents = List.of(</span>
                // Grand American Adventure
<span class="nc" id="L268">                TourEvent.builder()</span>
<span class="nc" id="L269">                        .Id(null)</span>
<span class="nc" id="L270">                        .seq(1)</span>
<span class="nc" id="L271">                        .seqDesc(&quot;Start at New York Summer Carnival&quot;)</span>
<span class="nc" id="L272">                        .tourId(&quot;7f54a45d-8c1d-432f-a5c8-1f93b89bfe29&quot;)</span>
<span class="nc" id="L273">                        .eventId(&quot;91c940b1-24e8-463f-96ef-f54f7e4aaf1d&quot;)</span>
<span class="nc" id="L274">                        .build(),</span>

                // Canadian Rockies Expedition
<span class="nc" id="L277">                TourEvent.builder()</span>
<span class="nc" id="L278">                        .Id(null)</span>
<span class="nc" id="L279">                        .seq(1)</span>
<span class="nc" id="L280">                        .seqDesc(&quot;Explore Toronto's Winter Lights Festival&quot;)</span>
<span class="nc" id="L281">                        .tourId(&quot;90af5e42-b8a7-4b59-939f-8fa2c4e384d1&quot;)</span>
<span class="nc" id="L282">                        .eventId(&quot;87b3b478-031c-49d2-b64e-b54a49578d8c&quot;)</span>
<span class="nc" id="L283">                        .build(),</span>

                // Parisian Art &amp; Culture Tour
<span class="nc" id="L286">                TourEvent.builder()</span>
<span class="nc" id="L287">                        .Id(null)</span>
<span class="nc" id="L288">                        .seq(1)</span>
<span class="nc" id="L289">                        .seqDesc(&quot;Visit Paris Fashion Week&quot;)</span>
<span class="nc" id="L290">                        .tourId(&quot;f1f4ac8e-4e24-4bb3-97d3-e5b7b5b7f912&quot;)</span>
<span class="nc" id="L291">                        .eventId(&quot;e48b9f26-fec7-4ce0-8f98-010ee0e6bd6c&quot;)</span>
<span class="nc" id="L292">                        .build(),</span>

                // German Castle Escape
<span class="nc" id="L295">                TourEvent.builder()</span>
<span class="nc" id="L296">                        .Id(null)</span>
<span class="nc" id="L297">                        .seq(1)</span>
<span class="nc" id="L298">                        .seqDesc(&quot;Attend Berlin Tech Conference&quot;)</span>
<span class="nc" id="L299">                        .tourId(&quot;83e6f7ba-0567-426a-b43f-456f947c576b&quot;)</span>
<span class="nc" id="L300">                        .eventId(&quot;7a92bd77-c6e4-4f27-9bbe-a5dad2761950&quot;)</span>
<span class="nc" id="L301">                        .build(),</span>

                // Italian Culinary Retreat
<span class="nc" id="L304">                TourEvent.builder()</span>
<span class="nc" id="L305">                        .Id(null)</span>
<span class="nc" id="L306">                        .seq(1)</span>
<span class="nc" id="L307">                        .seqDesc(&quot;Enjoy Rome Food &amp; Wine Festival&quot;)</span>
<span class="nc" id="L308">                        .tourId(&quot;d12a7bf7-dc94-4953-9189-68f6a70f7844&quot;)</span>
<span class="nc" id="L309">                        .eventId(&quot;44475ce1-6358-4d2f-a497-4ca3032c495c&quot;)</span>
<span class="nc" id="L310">                        .build(),</span>

                // Japan Cherry Blossom Tour
<span class="nc" id="L313">                TourEvent.builder()</span>
<span class="nc" id="L314">                        .Id(null)</span>
<span class="nc" id="L315">                        .seq(1)</span>
<span class="nc" id="L316">                        .seqDesc(&quot;Join Tokyo Cherry Blossom Festival&quot;)</span>
<span class="nc" id="L317">                        .tourId(&quot;7e14cb83-3e2a-41c6-b26f-09ebd62a5e39&quot;)</span>
<span class="nc" id="L318">                        .eventId(&quot;3ea4a674-3463-4fa2-a3cf-d882485963b6&quot;)</span>
<span class="nc" id="L319">                        .build(),</span>

                // Brazilian Amazon Adventure
<span class="nc" id="L322">                TourEvent.builder()</span>
<span class="nc" id="L323">                        .Id(null)</span>
<span class="nc" id="L324">                        .seq(1)</span>
<span class="nc" id="L325">                        .seqDesc(&quot;Experience Rio Carnival&quot;)</span>
<span class="nc" id="L326">                        .tourId(&quot;42cf8561-6f83-4f2f-becb-e3c72a1bb572&quot;)</span>
<span class="nc" id="L327">                        .eventId(&quot;528398a9-91a1-4833-bdd1-d88b732b9be6&quot;)</span>
<span class="nc" id="L328">                        .build(),</span>

                // Australian Outback Expedition
<span class="nc" id="L331">                TourEvent.builder()</span>
<span class="nc" id="L332">                        .Id(null)</span>
<span class="nc" id="L333">                        .seq(1)</span>
<span class="nc" id="L334">                        .seqDesc(&quot;Enjoy Sydney Fireworks&quot;)</span>
<span class="nc" id="L335">                        .tourId(&quot;f4a9c2ef-8473-4b67-b527-44fcb3a6eec5&quot;)</span>
<span class="nc" id="L336">                        .eventId(&quot;72927c9c-750f-4b37-9799-16d3b7a59725&quot;)</span>
<span class="nc" id="L337">                        .build(),</span>

                // Indian Heritage Journey
<span class="nc" id="L340">                TourEvent.builder()</span>
<span class="nc" id="L341">                        .Id(null)</span>
<span class="nc" id="L342">                        .seq(1)</span>
<span class="nc" id="L343">                        .seqDesc(&quot;Attend Mumbai Film Festival&quot;)</span>
<span class="nc" id="L344">                        .tourId(&quot;7b82cb14-2ff5-4d8f-b84c-3bfb7b6cda1e&quot;)</span>
<span class="nc" id="L345">                        .eventId(&quot;82c07322-37da-4635-bcae-3ae241036cf8&quot;)</span>
<span class="nc" id="L346">                        .build(),</span>

                // Chinese Silk Road Adventure
<span class="nc" id="L349">                TourEvent.builder()</span>
<span class="nc" id="L350">                        .Id(null)</span>
<span class="nc" id="L351">                        .seq(1)</span>
<span class="nc" id="L352">                        .seqDesc(&quot;Experience Beijing Dragon Boat Festival&quot;)</span>
<span class="nc" id="L353">                        .tourId(&quot;6a237fda-4924-4c73-a6df-73c1e0c37af2&quot;)</span>
<span class="nc" id="L354">                        .eventId(&quot;4e5bf569-27cb-494b-b7e5-9f9bf0ca66fe&quot;)</span>
<span class="nc" id="L355">                        .build()</span>
        );

<span class="nc" id="L358">        tourEventRepository.deleteAll()</span>
<span class="nc" id="L359">                .thenMany(Flux.fromIterable(sampleTourEvents))</span>
<span class="nc" id="L360">                .flatMap(tourEventRepository::save)</span>
<span class="nc" id="L361">                .doOnNext(event -&gt; log.info(&quot;Preloaded tour event: {}&quot;, event))</span>
<span class="nc" id="L362">                .subscribe(</span>
<span class="nc" id="L363">                        success -&gt; log.info(&quot;Tour events preloaded successfully.&quot;),</span>
<span class="nc" id="L364">                        error -&gt; log.error(&quot;Error preloading tour events: {}&quot;, error.getMessage())</span>
                );
<span class="nc" id="L366">    }</span>

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.11.202310140853</span></div></body></html>